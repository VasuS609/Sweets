generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql" 
  url      = env("DATABASE_URL")
}

model Question {
  id        Int       @id @default(autoincrement())
  text      String
  order     Int       @unique
  options   Option[]
  createdAt DateTime  @default(now())
}

model Option {
  id         Int       @id @default(autoincrement())
  text       String
  emoji      String    
  questionId Int
  question   Question  @relation(fields: [questionId], references: [id], onDelete: Cascade)
  tags       Json
  order      Int
}

model Sweet {
  id          Int       @id @default(autoincrement())
  name        String    @unique
  emoji       String
  description String
  tagline     String
  funFact     String
  imageUrl    String
  tags        Json
  calories    Int
  protein     Float
  carbs       Float
  fat         Float
  fiber       Float
  sugar       Float
  createdAt   DateTime  @default(now())
}

model QuizResult {
  id               Int      @id @default(autoincrement())
  userName         String?
  selectedOptions  Json
  tagScores        Json
  recommendedSweet String
  createdAt        DateTime @default(now())
}
